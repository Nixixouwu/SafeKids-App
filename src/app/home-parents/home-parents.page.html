<ion-content>
  <ion-button fill="clear" class="return-button" [routerLink]="['/login']">
    <ion-icon name="arrow-back-outline"></ion-icon>
  </ion-button>
  <h1 class="app-title">SafeKIDS</h1>

  <div class="white-container">
    <div class="parent-info">
      <div class="parent-image">
        <img [src]="parentImageUrl" alt="Foto del padre">
      </div>
      <div class="parent-details">
        <span class="label">Apoderado</span>
        <div class="details-content">
          <h2 class="name">{{ parentInfo.Nombre }} {{ parentInfo.Apellido }}</h2>
          <button class="edit-image-btn" (click)="editImage()">Editar Imagen 📝</button>
        </div>
      </div>
    </div>

    <h3 class="title-students">Estudiantes</h3>
    <div class="students-container">
      <div class="student" *ngFor="let student of parentInfo.estudiantes">
        <img [src]="student.imagen || 'assets/img/avatar-default.png'" [routerLink]="['/student-parents']" alt="{{ student.nombre }}">
        <span class="name">{{ student.nombre }}</span>
      </div>
    </div>

    <h3 class="title-bus">Viajes en Curso</h3>
    <div class="bus-info-container">
      <div class="bus-info" *ngFor="let viaje of parentInfo.viajes">
        <ion-icon name="bus"></ion-icon>
        <div class="bus-details">
          <h4>{{ viaje.nombreEstudiante }}</h4>
          <p><span class="bus-code">{{ viaje.codigoBus }}</span> - {{ viaje.conductor }}</p>
        </div>
      </div>
    </div>
  </div>
</ion-content>
